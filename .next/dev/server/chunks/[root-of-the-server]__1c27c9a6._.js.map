{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/Akshat%20Singh/SideProjIdeas/Desi-Ngl/pages/api/message/status.js"],"sourcesContent":["const { messageModal, userModal } = require('../../db')\r\n\r\nexport default async function handler(req, res) {\r\n    const { id } = req.query\r\n    if (!id) return res.status(400).json({ error: 'ID required' })\r\n\r\n    try {\r\n        const message = await messageModal.findById(id)\r\n        if (!message) return res.status(404).json({ error: 'Not found' })\r\n\r\n        const user = await userModal.findById(message.userId)\r\n\r\n        return res.status(200).json({\r\n            message: message.message,\r\n            reply: message.reply,\r\n            senderConsent: message.senderConsent,\r\n            username: user?.username || 'user'\r\n        })\r\n    } catch (e) {\r\n        return res.status(500).json({ error: e.message })\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,EAAE,YAAY,EAAE,SAAS,EAAE;;;;;AAElB,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC1C,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,KAAK;IACxB,IAAI,CAAC,IAAI,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE,OAAO;IAAc;IAE5D,IAAI;QACA,MAAM,UAAU,MAAM,aAAa,QAAQ,CAAC;QAC5C,IAAI,CAAC,SAAS,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAY;QAE/D,MAAM,OAAO,MAAM,UAAU,QAAQ,CAAC,QAAQ,MAAM;QAEpD,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACxB,SAAS,QAAQ,OAAO;YACxB,OAAO,QAAQ,KAAK;YACpB,eAAe,QAAQ,aAAa;YACpC,UAAU,MAAM,YAAY;QAChC;IACJ,EAAE,OAAO,GAAG;QACR,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO,EAAE,OAAO;QAAC;IACnD;AACJ"}}]
}