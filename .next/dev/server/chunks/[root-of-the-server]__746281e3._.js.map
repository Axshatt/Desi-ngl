{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///D:/Akshat%20Singh/SideProjIdeas/Desi-Ngl/db.js"],"sourcesContent":["const mongoose = require(\"mongoose\");\r\nrequire('dotenv').config()\r\n\r\nconst Schema = mongoose.Schema;\r\nconst ObjectId = Schema.ObjectId;\r\n\r\nif (mongoose.connection.readyState === 0) {\r\n    if (process.env.DATABASE) {\r\n        mongoose.connect(process.env.DATABASE)\r\n            .then(() => console.log(\"Connected to DB\"))\r\n            .catch(err => console.error(\"DB Config Error:\", err));\r\n    } else {\r\n        console.warn(\"No DATABASE environment variable found.\");\r\n    }\r\n}\r\n\r\nconst userSchema = new Schema({\r\n    username: String,\r\n})\r\nconst messageSchema = new Schema({\r\n    message: String,\r\n    mood: { type: String, default: 'Serious' },\r\n    userId: ObjectId\r\n})\r\n\r\n// Prevent model overwrite error in dev mode\r\nif (mongoose.models.users) delete mongoose.models.users\r\nif (mongoose.models.messages) delete mongoose.models.messages\r\n\r\nconst userModal = mongoose.model(\"users\", userSchema);\r\nconst messageModal = mongoose.model(\"messages\", messageSchema);\r\n\r\nmodule.exports = {\r\n    userModal,\r\n    messageModal\r\n}\r\n"],"names":[],"mappings":"AAAA,MAAM;AACN,+GAAkB,MAAM;AAExB,MAAM,SAAS,SAAS,MAAM;AAC9B,MAAM,WAAW,OAAO,QAAQ;AAEhC,IAAI,SAAS,UAAU,CAAC,UAAU,KAAK,GAAG;IACtC,IAAI,QAAQ,GAAG,CAAC,QAAQ,EAAE;QACtB,SAAS,OAAO,CAAC,QAAQ,GAAG,CAAC,QAAQ,EAChC,IAAI,CAAC,IAAM,QAAQ,GAAG,CAAC,oBACvB,KAAK,CAAC,CAAA,MAAO,QAAQ,KAAK,CAAC,oBAAoB;IACxD,OAAO;QACH,QAAQ,IAAI,CAAC;IACjB;AACJ;AAEA,MAAM,aAAa,IAAI,OAAO;IAC1B,UAAU;AACd;AACA,MAAM,gBAAgB,IAAI,OAAO;IAC7B,SAAS;IACT,MAAM;QAAE,MAAM;QAAQ,SAAS;IAAU;IACzC,QAAQ;AACZ;AAEA,4CAA4C;AAC5C,IAAI,SAAS,MAAM,CAAC,KAAK,EAAE,OAAO,SAAS,MAAM,CAAC,KAAK;AACvD,IAAI,SAAS,MAAM,CAAC,QAAQ,EAAE,OAAO,SAAS,MAAM,CAAC,QAAQ;AAE7D,MAAM,YAAY,SAAS,KAAK,CAAC,SAAS;AAC1C,MAAM,eAAe,SAAS,KAAK,CAAC,YAAY;AAEhD,OAAO,OAAO,GAAG;IACb;IACA;AACJ"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///D:/Akshat%20Singh/SideProjIdeas/Desi-Ngl/utils/fakeMessages.js"],"sourcesContent":["export const fakeMessages = [\r\n    \"TBH Iâ€™ve had a crush on you for a while now ðŸ™ˆ\",\r\n    \"Song recommendation: 'Diet Mountain Dew' by Lana Del Rey\",\r\n    \"You give off main character energy âœ¨\",\r\n    \"Rate me: 10/10 would recommend\",\r\n    \"What's your biggest ick?\",\r\n    \"Drop your skincare routine pls\",\r\n    \"You're actually so funny it's annoying\",\r\n    \"Wanna match pfps? ðŸ‘‰ðŸ‘ˆ\",\r\n    \"Who is your fav influencer?\",\r\n    \"Describe your aesthetic in 3 words\",\r\n    \"Lowkey miss you\",\r\n    \"Spill the tea â˜•\",\r\n    \"Are you single? asking for a friend\",\r\n    \"Your vibe is immaculate\",\r\n    \"Fav comfort movie?\",\r\n    \"Do you believe in soulmates?\",\r\n    \"Send a selfie rn\",\r\n    \"What's the last song you listened to?\",\r\n    \"You look so good today!\",\r\n    \"Can we be besties?\",\r\n    \"POV: You're my fav person\",\r\n    \"Red flag: I reply instantly\",\r\n    \"Green flag: You have good taste in music\",\r\n    \"Thoughts on pineapple on pizza?\",\r\n    \"Marry, Kiss, Kill: The Weeknd, Drake, Travis Scott\",\r\n    \"Unpopular opinion: TikTok is better than Insta\",\r\n    \"You're glowing âœ¨\",\r\n    \"Idk who needs to hear this but you're doing great\",\r\n    \"Send memes\",\r\n    \"Wanna go on a late night drive?\"\r\n];\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,eAAe;IACxB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///D:/Akshat%20Singh/SideProjIdeas/Desi-Ngl/pages/api/admin/auto-message.js"],"sourcesContent":["import { messageModal, userModal } from \"../../../db\";\r\nimport { fakeMessages } from \"../../../utils/fakeMessages\";\r\n\r\nexport default async function handler(req, res) {\r\n    if (req.method !== 'POST') {\r\n        return res.status(405).json({ error: 'Method not allowed' });\r\n    }\r\n\r\n    const { username } = req.body;\r\n\r\n    if (!username) {\r\n        return res.status(400).json({ error: 'Username is required' });\r\n    }\r\n\r\n    try {\r\n        const user = await userModal.findOne({ username });\r\n        if (!user) {\r\n            return res.status(404).json({ error: 'User not found' });\r\n        }\r\n\r\n        // Pick a random message\r\n        const randomMsg = fakeMessages[Math.floor(Math.random() * fakeMessages.length)];\r\n\r\n        // Insert into DB\r\n        await messageModal.create({\r\n            message: randomMsg,\r\n            userId: user._id,\r\n            createdAt: new Date() // Ensure your schema supports timestamps if you want sorting\r\n        });\r\n\r\n        return res.status(200).json({ success: true, message: randomMsg });\r\n    } catch (error) {\r\n        console.error(\"Auto-message error:\", error);\r\n        return res.status(500).json({ error: \"Internal Server Error\" });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC1C,IAAI,IAAI,MAAM,KAAK,QAAQ;QACvB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAqB;IAC9D;IAEA,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,IAAI;IAE7B,IAAI,CAAC,UAAU;QACX,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAuB;IAChE;IAEA,IAAI;QACA,MAAM,OAAO,MAAM,uHAAS,CAAC,OAAO,CAAC;YAAE;QAAS;QAChD,IAAI,CAAC,MAAM;YACP,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO;YAAiB;QAC1D;QAEA,wBAAwB;QACxB,MAAM,YAAY,6IAAY,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,6IAAY,CAAC,MAAM,EAAE;QAE/E,iBAAiB;QACjB,MAAM,0HAAY,CAAC,MAAM,CAAC;YACtB,SAAS;YACT,QAAQ,KAAK,GAAG;YAChB,WAAW,IAAI,OAAO,6DAA6D;QACvF;QAEA,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,SAAS;YAAM,SAAS;QAAU;IACpE,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAwB;IACjE;AACJ"}}]
}