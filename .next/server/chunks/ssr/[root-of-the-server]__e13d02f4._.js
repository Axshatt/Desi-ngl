module.exports=[3830,a=>a.a(async(b,c)=>{try{let b=await a.y("axios-75bcbed3e4860184");a.n(b),c()}catch(a){c(a)}},!0),5030,a=>{"use strict";let b=(0,a.i(6580).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);a.s(["LogOut",()=>b],5030)},8280,a=>{"use strict";let b=(0,a.i(6580).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],8280)},5228,a=>{"use strict";let b=(0,a.i(6580).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);a.s(["RefreshCcw",()=>b],5228)},3399,a=>{"use strict";let b=(0,a.i(6580).default)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);a.s(["Inbox",()=>b],3399)},7635,a=>{"use strict";let b=(0,a.i(6580).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],7635)},5269,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(8910),f=a.i(7669),g=a.i(3830),h=a.i(7959),i=a.i(8280),j=a.i(5228),k=a.i(5030),l=a.i(3399),m=a.i(7635),n=b([g,h]);function o(){let a=(0,e.useRouter)(),{username:b}=a.query,[c,n]=(0,f.useState)([]),[o,p]=(0,f.useState)(!0),[q,r]=(0,f.useState)(!1),[s,t]=(0,f.useState)(null);async function u(a=!1){let c=b||localStorage.getItem("username");if(c){a&&r(!0);try{let b=await g.default.post(`/api/admin/message/${encodeURIComponent(c)}`);n(b.data?.messages||[]),a&&h.default.success("Inbox refreshed!")}catch(b){console.error(b),a&&h.default.error("Failed to refresh")}finally{p(!1),a&&r(!1)}}}async function v(){if(s)try{let a=b||localStorage.getItem("username");await g.default.delete(`/api/admin/message/${encodeURIComponent(a)}`,{data:{id:s}}),n(a=>a.filter(a=>a._id!==s)),h.default.success("Message deleted successfully")}catch(a){h.default.error("Failed to delete message: "+(a?.response?.data?.error||a.message))}finally{t(null)}}return(0,f.useEffect)(()=>{if(!a.isReady)return;u();let c=async()=>{let a=localStorage.getItem("lastAutoMessage"),c=Date.now();if(!a||c-parseInt(a)>18e5)try{let a=b||localStorage.getItem("username");if(!a)return;console.log("Triggering auto-message for:",a),await g.default.post("/api/admin/auto-message",{username:a}),localStorage.setItem("lastAutoMessage",c.toString()),u(!1),(0,h.default)("Someone sent you a secret... ðŸ‘»",{icon:"ðŸ‘»"})}catch(a){console.error("Auto-message failed:",a)}};c();let d=setInterval(c,6e4);return()=>clearInterval(d)},[a.isReady,b]),(0,d.jsxs)("div",{className:"container",style:{padding:"40px 20px",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[s&&(0,d.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>t(null),children:(0,d.jsxs)("div",{style:{background:"var(--surface-color)",border:"1px solid var(--glass-border)",padding:"30px",borderRadius:"24px",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},onClick:a=>a.stopPropagation(),children:[(0,d.jsx)("div",{style:{background:"rgba(255, 68, 68, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:(0,d.jsx)(i.Trash2,{size:30,color:"#ff4444"})}),(0,d.jsx)("h3",{style:{marginTop:0,fontSize:"24px",fontWeight:700},children:"Delete Secret?"}),(0,d.jsx)("p",{style:{color:"var(--text-secondary)",marginBottom:"30px"},children:"Are you sure you want to delete this message? This action cannot be undone."}),(0,d.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,d.jsx)("button",{onClick:()=>t(null),style:{padding:"12px 24px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"transparent",color:"white",fontWeight:600,cursor:"pointer"},children:"Cancel"}),(0,d.jsx)("button",{onClick:v,style:{padding:"12px 24px",borderRadius:"12px",border:"none",background:"#ff4444",color:"white",fontWeight:600,cursor:"pointer"},children:"Delete"})]})]})}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px",flexWrap:"wrap",gap:"15px"},children:[(0,d.jsxs)("h1",{style:{fontSize:"32px",margin:0,fontWeight:800},children:["Inbox ",(0,d.jsx)("span",{style:{fontSize:"18px",verticalAlign:"middle",background:"var(--accent-purple)",padding:"2px 8px",borderRadius:"10px",color:"white"},children:c.length})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,d.jsxs)("button",{onClick:()=>u(!0),disabled:q,style:{background:"var(--surface-color)",border:"1px solid var(--glass-border)",color:"white",padding:"8px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",cursor:q?"wait":"pointer"},children:[(0,d.jsx)(j.RefreshCcw,{size:16,className:q?"spin":"",style:{transition:"transform 1s",transform:q?"rotate(360deg)":"none"}}),"Refresh"]}),(0,d.jsxs)("button",{onClick:function(){localStorage.clear(),a.push("/")},style:{background:"rgba(255,255,255,0.1)",border:"none",color:"white",padding:"8px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[(0,d.jsx)(k.LogOut,{size:16})," Logout"]})]})]}),o?(0,d.jsx)("div",{style:{textAlign:"center",marginTop:"50px",color:"var(--text-secondary)"},children:"Loading secrets..."}):0===c.length?(0,d.jsxs)("div",{style:{textAlign:"center",marginTop:"50px",color:"var(--text-secondary)"},children:[(0,d.jsx)("div",{style:{marginBottom:"20px",display:"inline-flex",padding:"20px",borderRadius:"50%",background:"rgba(255,255,255,0.05)"},children:(0,d.jsx)(l.Inbox,{size:48,color:"var(--text-secondary)"})}),(0,d.jsx)("p",{children:"No confessions yet!"}),(0,d.jsx)("p",{style:{fontSize:"14px"},children:"Share your link to get started."})]}):(0,d.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:c.map(a=>(0,d.jsxs)("div",{style:{background:"var(--surface-color)",border:"1px solid var(--glass-border)",padding:"24px",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",transition:"transform 0.2s",cursor:"default",position:"relative"},onMouseEnter:a=>a.currentTarget.style.transform="translateY(-2px)",onMouseLeave:a=>a.currentTarget.style.transform="translateY(0)",children:[(0,d.jsx)("div",{style:{fontSize:"18px",lineHeight:"1.5",color:"var(--text-primary)",whiteSpace:"pre-wrap",fontWeight:500,marginBottom:"40px"},children:a.message}),(0,d.jsxs)("div",{style:{position:"absolute",bottom:"20px",right:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,d.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[(0,d.jsx)(m.User,{size:12})," Anonymous"]}),(0,d.jsx)("button",{onClick:()=>{var b;return b=a._id,void t(b)},style:{background:"rgba(255, 0, 0, 0.1)",color:"#ff4444",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"},title:"Delete message",onMouseEnter:a=>a.currentTarget.style.background="rgba(255, 0, 0, 0.2)",onMouseLeave:a=>a.currentTarget.style.background="rgba(255, 0, 0, 0.1)",children:(0,d.jsx)(i.Trash2,{size:16})})]})]},a._id))})]})}[g,h]=n.then?(await n)():n,a.s(["default",()=>o]),c()}catch(a){c(a)}},!1),756,a=>a.a(async(b,c)=>{try{var d=a.i(4831),e=a.i(136),f=a.i(7386),g=a.i(6741),h=a.i(6273),i=a.i(5269),j=a.i(9009),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/message/[username]",pathname:"/admin/message/[username]",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/message/[username]",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__e13d02f4._.js.map